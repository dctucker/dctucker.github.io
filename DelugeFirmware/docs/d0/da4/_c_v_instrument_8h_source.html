<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Deluge Firmware: src/CVInstrument.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Deluge Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">CVInstrument.h</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d0/da4/_c_v_instrument_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright Â© 2018-2023 Synthstrom Audible Limited</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * This file is part of The Synthstrom Audible Deluge Firmware.</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> *</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * The Synthstrom Audible Deluge Firmware is free software: you can redistribute it and/or modify it under the</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> * terms of the GNU General Public License as published by the Free Software Foundation,</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * either version 3 of the License, or (at your option) any later version.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * See the GNU General Public License for more details.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> *</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * You should have received a copy of the GNU General Public License along with this program.</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> * If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">*/</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#ifndef CVINSTRUMENT_H_</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#define CVINSTRUMENT_H_</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/da4/_c_v_instrument_8h.html">CVInstrument.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="../../d5/db9/_non_audio_instrument_8h.html">NonAudioInstrument.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">class </span><a class="code hl_class" href="../../d7/dbb/class_param_manager_for_timeline.html">ParamManagerForTimeline</a>;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">class </span><a class="code hl_class" href="../../d1/d83/class_model_stack_with_three_main_things.html">ModelStackWithThreeMainThings</a>;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">class </span><a class="code hl_class" href="../../d3/d3c/class_model_stack_with_sound_flags.html">ModelStackWithSoundFlags</a>;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="../../d8/d52/class_c_v_instrument.html">   28</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d8/d52/class_c_v_instrument.html">CVInstrument</a> final : <span class="keyword">public</span> <a class="code hl_class" href="../../db/d87/class_non_audio_instrument.html">NonAudioInstrument</a> {</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#ae3ff54ea4bc0139bc6d24c852f3b10ce">CVInstrument</a>();</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#aa5d6e8c6f9309b73c6e1f256e25480fe">noteOnPostArp</a>(<span class="keywordtype">int</span> noteCodePostArp, <a class="code hl_struct" href="../../d3/d2c/struct_arp_note.html">ArpNote</a>* arpNote);</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#ab494f3f4030d04fae5ba911299f92542">noteOffPostArp</a>(<span class="keywordtype">int</span> noteCode, <span class="keywordtype">int</span> oldMIDIChannel, <span class="keywordtype">int</span> velocity);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#af1d1901e95e579de440319b18413f219">polyphonicExpressionEventPostArpeggiator</a>(<span class="keywordtype">int</span> newValue, <span class="keywordtype">int</span> noteCodeAfterArpeggiation, <span class="keywordtype">int</span> whichExpressionDmiension, <a class="code hl_struct" href="../../d3/d2c/struct_arp_note.html">ArpNote</a>* arpNote);</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#a4f38808f0b0b2d13b1cfef1d3211a89e">writeDataToFile</a>(<a class="code hl_class" href="../../d6/d48/class_clip.html">Clip</a>* clipForSavingOutputOnly, <a class="code hl_class" href="../../da/dc3/class_song.html">Song</a>* song);</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#a7b23e6a85f35a754500096e0e3763c7a">monophonicExpressionEvent</a>(<span class="keywordtype">int</span> newValue, <span class="keywordtype">int</span> whichExpressionDmiension);</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#a94b336fb8611ccc91d7f691be94ecb35">setActiveClip</a>(<a class="code hl_class" href="../../d2/d34/class_model_stack_with_timeline_counter.html">ModelStackWithTimelineCounter</a>* modelStack, <span class="keywordtype">int</span> maySendMIDIPGMs);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#a02d5dbd03e7eccd55c6611d140e312d1">setupWithoutActiveClip</a>(<a class="code hl_class" href="../../de/d9e/class_model_stack.html">ModelStack</a>* modelStack);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">// It&#39;s much easier to store local copies of the most recent of these, so we never have to go doing complex quizzing of the arp, or MPE params, which we otherwise would have to do regularly.</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="../../d8/d52/class_c_v_instrument.html#a7c2d2752deef251932502a95a415967e">   40</a></span>    int32_t <a class="code hl_variable" href="../../d8/d52/class_c_v_instrument.html#a7c2d2752deef251932502a95a415967e">monophonicPitchBendValue</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="../../d8/d52/class_c_v_instrument.html#a5dc090f3822c0fe19e45a31192e76ae4">   41</a></span>    int32_t <a class="code hl_variable" href="../../d8/d52/class_c_v_instrument.html#a5dc090f3822c0fe19e45a31192e76ae4">polyPitchBendValue</a>;</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="../../d8/d52/class_c_v_instrument.html#ae7975d534970179cc747a5cb0ba6f5fa">   43</a></span>    uint8_t <a class="code hl_variable" href="../../d8/d52/class_c_v_instrument.html#ae7975d534970179cc747a5cb0ba6f5fa">cachedBendRanges</a>[2]; <span class="comment">// Cache these here just in case there&#39;s no ParamManager - because CVInstruments don&#39;t do backedUpParamManagers.</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="../../d8/d52/class_c_v_instrument.html#a9b65b8198856366810c8b59be59b92e1">   45</a></span>    <span class="keywordtype">char</span> <span class="keyword">const</span>* <a class="code hl_function" href="../../d8/d52/class_c_v_instrument.html#a9b65b8198856366810c8b59be59b92e1">getXMLTag</a>() { <span class="keywordflow">return</span> <span class="stringliteral">&quot;cvChannel&quot;</span>; }</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="keywordtype">void</span> updatePitchBendOutput(<span class="keywordtype">bool</span> outputToo = <span class="keyword">true</span>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>};</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="preprocessor">#endif </span><span class="comment">/* CVINSTRUMENT_H_ */</span><span class="preprocessor"></span></div>
<div class="ttc" id="a_c_v_instrument_8h_html"><div class="ttname"><a href="../../d0/da4/_c_v_instrument_8h.html">CVInstrument.h</a></div></div>
<div class="ttc" id="a_non_audio_instrument_8h_html"><div class="ttname"><a href="../../d5/db9/_non_audio_instrument_8h.html">NonAudioInstrument.h</a></div></div>
<div class="ttc" id="aclass_c_v_instrument_html"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html">CVInstrument</a></div><div class="ttdef"><b>Definition:</b> CVInstrument.h:28</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a02d5dbd03e7eccd55c6611d140e312d1"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a02d5dbd03e7eccd55c6611d140e312d1">CVInstrument::setupWithoutActiveClip</a></div><div class="ttdeci">void setupWithoutActiveClip(ModelStack *modelStack)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:128</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a4f38808f0b0b2d13b1cfef1d3211a89e"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a4f38808f0b0b2d13b1cfef1d3211a89e">CVInstrument::writeDataToFile</a></div><div class="ttdeci">bool writeDataToFile(Clip *clipForSavingOutputOnly, Song *song)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:92</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a5dc090f3822c0fe19e45a31192e76ae4"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a5dc090f3822c0fe19e45a31192e76ae4">CVInstrument::polyPitchBendValue</a></div><div class="ttdeci">int32_t polyPitchBendValue</div><div class="ttdef"><b>Definition:</b> CVInstrument.h:41</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a7b23e6a85f35a754500096e0e3763c7a"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a7b23e6a85f35a754500096e0e3763c7a">CVInstrument::monophonicExpressionEvent</a></div><div class="ttdeci">void monophonicExpressionEvent(int newValue, int whichExpressionDmiension)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:63</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a7c2d2752deef251932502a95a415967e"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a7c2d2752deef251932502a95a415967e">CVInstrument::monophonicPitchBendValue</a></div><div class="ttdeci">int32_t monophonicPitchBendValue</div><div class="ttdef"><b>Definition:</b> CVInstrument.h:40</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a94b336fb8611ccc91d7f691be94ecb35"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a94b336fb8611ccc91d7f691be94ecb35">CVInstrument::setActiveClip</a></div><div class="ttdeci">bool setActiveClip(ModelStackWithTimelineCounter *modelStack, int maySendMIDIPGMs)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:104</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_a9b65b8198856366810c8b59be59b92e1"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#a9b65b8198856366810c8b59be59b92e1">CVInstrument::getXMLTag</a></div><div class="ttdeci">char const * getXMLTag()</div><div class="ttdef"><b>Definition:</b> CVInstrument.h:45</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_aa5d6e8c6f9309b73c6e1f256e25480fe"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#aa5d6e8c6f9309b73c6e1f256e25480fe">CVInstrument::noteOnPostArp</a></div><div class="ttdeci">void noteOnPostArp(int noteCodePostArp, ArpNote *arpNote)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:39</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_ab494f3f4030d04fae5ba911299f92542"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#ab494f3f4030d04fae5ba911299f92542">CVInstrument::noteOffPostArp</a></div><div class="ttdeci">void noteOffPostArp(int noteCode, int oldMIDIChannel, int velocity)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:48</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_ae3ff54ea4bc0139bc6d24c852f3b10ce"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#ae3ff54ea4bc0139bc6d24c852f3b10ce">CVInstrument::CVInstrument</a></div><div class="ttdeci">CVInstrument()</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:29</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_ae7975d534970179cc747a5cb0ba6f5fa"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#ae7975d534970179cc747a5cb0ba6f5fa">CVInstrument::cachedBendRanges</a></div><div class="ttdeci">uint8_t cachedBendRanges[2]</div><div class="ttdef"><b>Definition:</b> CVInstrument.h:43</div></div>
<div class="ttc" id="aclass_c_v_instrument_html_af1d1901e95e579de440319b18413f219"><div class="ttname"><a href="../../d8/d52/class_c_v_instrument.html#af1d1901e95e579de440319b18413f219">CVInstrument::polyphonicExpressionEventPostArpeggiator</a></div><div class="ttdeci">void polyphonicExpressionEventPostArpeggiator(int newValue, int noteCodeAfterArpeggiation, int whichExpressionDmiension, ArpNote *arpNote)</div><div class="ttdef"><b>Definition:</b> CVInstrument.cpp:53</div></div>
<div class="ttc" id="aclass_clip_html"><div class="ttname"><a href="../../d6/d48/class_clip.html">Clip</a></div><div class="ttdef"><b>Definition:</b> Clip.h:41</div></div>
<div class="ttc" id="aclass_model_stack_html"><div class="ttname"><a href="../../de/d9e/class_model_stack.html">ModelStack</a></div><div class="ttdef"><b>Definition:</b> ModelStack.h:123</div></div>
<div class="ttc" id="aclass_model_stack_with_sound_flags_html"><div class="ttname"><a href="../../d3/d3c/class_model_stack_with_sound_flags.html">ModelStackWithSoundFlags</a></div><div class="ttdef"><b>Definition:</b> ModelStack.h:295</div></div>
<div class="ttc" id="aclass_model_stack_with_three_main_things_html"><div class="ttname"><a href="../../d1/d83/class_model_stack_with_three_main_things.html">ModelStackWithThreeMainThings</a></div><div class="ttdef"><b>Definition:</b> ModelStack.h:243</div></div>
<div class="ttc" id="aclass_model_stack_with_timeline_counter_html"><div class="ttname"><a href="../../d2/d34/class_model_stack_with_timeline_counter.html">ModelStackWithTimelineCounter</a></div><div class="ttdef"><b>Definition:</b> ModelStack.h:130</div></div>
<div class="ttc" id="aclass_non_audio_instrument_html"><div class="ttname"><a href="../../db/d87/class_non_audio_instrument.html">NonAudioInstrument</a></div><div class="ttdef"><b>Definition:</b> NonAudioInstrument.h:29</div></div>
<div class="ttc" id="aclass_param_manager_for_timeline_html"><div class="ttname"><a href="../../d7/dbb/class_param_manager_for_timeline.html">ParamManagerForTimeline</a></div><div class="ttdef"><b>Definition:</b> ParamManager.h:166</div></div>
<div class="ttc" id="aclass_song_html"><div class="ttname"><a href="../../da/dc3/class_song.html">Song</a></div><div class="ttdef"><b>Definition:</b> song.h:72</div></div>
<div class="ttc" id="astruct_arp_note_html"><div class="ttname"><a href="../../d3/d2c/struct_arp_note.html">ArpNote</a></div><div class="ttdef"><b>Definition:</b> Arpeggiator.h:48</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
